<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button color="primary" routerLink="/login">Log in</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <h1>Crea tu<br/>Cuenta</h1>

  <form id="form" #formulario="ngForm">
    <ion-note>Selecciona un Avatar para tu Cuenta</ion-note>
    <ion-slides pager="true" [options]="slideOpts" (ionSlideDidChange)="slideChanged($event)" #slides>
      <ion-slide *ngFor="let item of listAvatar">
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-thumbnail>
                <ion-avatar>
                  <ion-img [src]="url+item.img"></ion-img>
                </ion-avatar>
              </ion-thumbnail>
              <br>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-slide>
    </ion-slides>
    

    <ion-item class="ion-margin-bottom">
      <ion-input 
        type="text" 
        name="user"
        placeholder="Nombre Usuario"
        [(ngModel)]="user" required>
      </ion-input>
    </ion-item>

    <ion-item class="ion-margin-bottom">
      <ion-input 
        name="clave"
        [type]="showPassword ? 'text': 'password'"
        placeholder="Contraseña"
        [(ngModel)]="clave" required>
      </ion-input>
      <ion-icon 
        slot="end" 
        [name]="passwordToggleIcon"
        (click)="togglePassword()">
      </ion-icon>
    </ion-item>

    <ion-item class="ion-margin-bottom">
      <ion-input 
        name="confirmar"
        [type]="showPassword ? 'text': 'password'"
        placeholder="Confirmar Contraseña"
        [(ngModel)]="confirmar" required>
      </ion-input>
      <ion-icon 
        slot="end" 
        [name]="passwordToggleIcon"
        (click)="togglePassword()">
      </ion-icon>
    </ion-item>

    <ion-item class="ion-margin-bottom">
      <ion-input 
        type="text" 
        name="telefono"
        placeholder="Teléfono"
        [(ngModel)]="telefono">
      </ion-input>
    </ion-item>

    <ion-item class="ion-margin-bottom">
      <ion-label>Rol</ion-label>
      <ion-select name="rol" [(ngModel)]="idRol" mode="ios" okText="OK" cancelText="CANCELAR">
        <ion-select-option *ngFor="let item of listaRol" [value]="item.id">
          {{item.nombre}}
        </ion-select-option>
      </ion-select>
    </ion-item>


    <ion-item class="ion-margin-bottom">
      <ion-input 
        type="text" 
        name="direccion"
        placeholder="Dirección"
        [(ngModel)]="direccion">
      </ion-input>
    </ion-item>

    <ion-item class="ion-margin-bottom">
      <ion-label>Fecha de Nacimiento</ion-label>
      <ion-datetime 
        mode="ios"
        name="fecha"
        displayFormat="YYYY-MM-DD"
        [ngModel]="fechaActual.toISOString()"
        [pickerOptions]="customPickerOptions">
      </ion-datetime>
    </ion-item>

    <ion-button 
      expand="block" 
      shape="round" 
      type="submit"
      color="transparent"
      class="btn" 
      [disabled]="formulario.invalid"
      (click)="registrarse()">
      Registrarse
    </ion-button>
  </form>

  <p>Al presionar 'Registrarse', aceptas <br/>
    Nuestros términos y condiciones.</p>
</ion-content>